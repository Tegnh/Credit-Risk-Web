<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>ูุธุงู ุชูููู ูุฎุงุทุฑ ุงูุงุฆุชูุงู ุงูุฐูู</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>%F0%9F%8F%A6</text></svg>">
    <style>
        :root {
            --bg-top: #fff6e9;
            --bg-bottom: #e6f2ff;
            --ink: #1f2a37;
            --muted: #5b6777;
            --card: #ffffff;
            --accent: #ff8a4c;
            --accent-2: #1f7ae0;
            --ring: rgba(31, 122, 224, 0.2);
        }

        /* ุณุคุงู ุงููุณู ุงูุฃูู: ูุง ูุงุฆุฏุฉ ุงุณุชุฎุฏุงู --accent ุจุฏูุงู ูู ูุชุงุจุฉ ููุฏ ุงูููู ูุจุงุดุฑุฉุ */
        /* ุงูุฅุฌุงุจุฉ: ูุชุณููู ุชุบููุฑ ุงูููู ูู ูุงูู ุงููููุน ูู ููุงู ูุงุญุฏ ููุท (ุงููุชุบูุฑ ุงูุฑุฆูุณู). */

        /* ุงููุณู ุงูุซุงูู: ุชูุณูู ุงููููู ูุงูุญุฑูุงุช (Layout & Animations) */
        /* ุงูุดุฑุญ: ูุฌุนู ุงููููุน ูุชูุณุท ุงูุดุงุดุฉ ููุถูู ุญุฑูุฉ "ุงูุธููุฑ ุงูุนุงุฆู" ุนูุฏ ูุชุญ ุงูุตูุญุฉ */
        body {
            font-family: "Cairo", sans-serif;
            background: linear-gradient(160deg, var(--bg-top), var(--bg-bottom));
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 24px;
        }

        .container {
            background: var(--card);
            padding: 32px;
            border-radius: 20px;
            box-shadow: 0 16px 40px rgba(31, 42, 55, 0.12);
            width: min(460px, 92vw);
            animation: float-in 700ms ease-out both;
            position: relative;
            overflow: hidden;
        }

        @keyframes float-in {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* ุณุคุงู ุงููุณู ุงูุซุงูู: ูุงุฐุง ุชูุนู ุฎุงุตูุฉ box-shadowุ */
        /* ุงูุฅุฌุงุจุฉ: ุชุนุทู ุธูุงู ุฎูู ุงูุจุทุงูุฉ ูุฌุนููุง ุชุจุฏู ูุฑุชูุนุฉ ูุนุงุฆูุฉ ููู ุงูุฎูููุฉ. */

        /* ุงููุณู ุงูุซุงูุซ: ุชูุณูู ุงููุฏุฎูุงุช ูุงูุฃุฒุฑุงุฑ (Form Elements) */
        /* ุงูุดุฑุญ: ุฌุนู ุงูุฎุงูุงุช ุณููุฉ ุงููุฑุงุกุฉ ูุชุถูู ุชุฃุซูุฑุงู ุนูุฏ ุงูุถุบุท ุนูููุง (Focus) */
        .field { display: grid; gap: 6px; margin-bottom: 15px; }
        
        label { font-size: 13px; color: var(--muted); font-weight: 600; }
        
        input {
            width: 100%;
            padding: 12px;
            border: 1px solid #e2e8f0;
            border-radius: 10px;
            transition: all 0.3s ease;
        }

        input:focus {
            outline: none;
            border-color: var(--accent-2);
            box-shadow: 0 0 0 4px var(--ring);
        }

        button {
            background: linear-gradient(135deg, var(--accent), var(--accent-2));
            color: white;
            padding: 14px;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            width: 100%;
            font-weight: bold;
            font-size: 16px;
        }

        /* ุณุคุงู ุงููุณู ุงูุซุงูุซ: ููุงุฐุง ูุณุชุฎุฏู transition ูู ุงูู inputุ */
        /* ุงูุฅุฌุงุจุฉ: ูุฌุนู ุธููุฑ ุธู ุงูู Focus ูุชุบูุฑ ุงูุฃููุงู ูุญุฏุซ ุจูุนููุฉ ูููุณ ุจุดูู ููุงุฌุฆ. */

        /* ุงููุณู ุงูุฑุงุจุน: ุนุฑุถ ุงููุชุงุฆุฌ ูุงููุณุจ (Results & Bars) */
        /* ุงูุดุฑุญ: ุชุตููู ููุทูุฉ ุนุฑุถ ูุฑุงุฑ ุงูููุฏูู ูุน ุดุฑูุท ุชูุฏู ูููู ููุถุญ ูุณุจุฉ ุงูุฃูุงู */
        .result {
            margin-top: 25px;
            padding: 20px;
            border-radius: 15px;
            background: #f9fbff;
            border: 1px dashed #d7e3f5;
            text-align: center;
        }

        .bar-container {
            background-color: #eee;
            border-radius: 10px;
            height: 12px;
            width: 100%;
            margin: 15px 0;
        }

        .bar {
            height: 100%;
            border-radius: 10px;
            transition: width 1.5s ease-in-out; /* ุญุฑูุฉ ุชุนุจุฆุฉ ุงูุดุฑูุท */
        }

        .explanation-tag {
            background: #f0f7ff;
            padding: 6px 15px;
            border-radius: 20px;
            font-size: 12px;
            display: inline-block;
            margin-top: 10px;
            border: 1px solid #dbeafe;
        }

        /* ุณุคุงู ุงููุณู ุงูุฑุงุจุน: ููู ูุชุญูู ูู ุทูู ุงูุดุฑูุท ุงูุฃุฎุถุฑ ุจุฑูุฌูุงูุ */
        /* ุงูุฅุฌุงุจุฉ: ุจุงุณุชุฎุฏุงู ูุบุฉ Jinja2 ุนุจุฑ ููุฏ style="width: {{ prob_safe }}%". */

        /* ุงููุณู ุงูุฎุงูุณ: ูุตูุญุฉ ุงููุณุชูุจู (XAI Section) */
        /* ุงูุดุฑุญ: ุตูุฏูู ูุนูููุงุช ูุดุฑุญ ูููุณุชุฎุฏู ููุงููู ุงูุฐูุงุก ุงูุงุตุทูุงุนู ุงููุงุจู ููุชูุณูุฑ */
        .future-tip {
            background-color: #fff9f0;
            border-right: 4px solid var(--accent);
            padding: 15px;
            margin-top: 20px;
            border-radius: 8px;
            font-size: 13px;
        }

        /* ุณุคุงู ุงููุณู ุงูุฎุงูุณ: ูุงุฐุง ูุนูู ุงุฎุชุตุงุฑ XAIุ */
        /* ุงูุฅุฌุงุจุฉ: Explainable Artificial Intelligence (ุงูุฐูุงุก ุงูุงุตุทูุงุนู ุงููุงุจู ููุชูุณูุฑ). */

    </style>
</head>
<body>

<div class="container">
    <h1>ุชูููู ูุฎุงุทุฑ ุงููุฑูุถ</h1>
    <p class="lead">ุฃุฏุฎู ุจูุงูุงุช ุงูุนููู ููุญุตูู ุนูู ุชุญููู ุฏููู.</p>

    <form action="/predict" method="post">
        <div class="field">
            <label>ุงูุนูุฑ</label>
            <input type="number" name="person_age" placeholder="ูุซุงู: 30" required>
        </div>
        <div class="field">
            <label>ุงูุฏุฎู ุงูุณููู ($)</label>
            <input type="number" name="person_income" placeholder="ูุซุงู: 50000" required>
        </div>
        <div class="field">
            <label>ูููุฉ ุงููุฑุถ ุงููุทููุจุฉ ($)</label>
            <input type="number" name="loan_amnt" placeholder="ูุซุงู: 15000" required>
        </div>
        <div class="field">
            <label>ูุณุจุฉ ุงููุงุฆุฏุฉ (%)</label>
            <input type="number" step="0.1" name="loan_int_rate" placeholder="ูุซุงู: 11.5" required>
        </div>
        <div class="field">
            <label>ูุฏุฉ ุงูุฎุจุฑุฉ ุงููุธูููุฉ (ุจุงูุณููุงุช)</label>
            <input type="number" name="person_emp_length" placeholder="ูุซุงู: 5" required>
        </div>

        <div class="field">
            <label>ุทูู ุงูุณุฌู ุงูุงุฆุชูุงูู (ุจุงูุณููุงุช)</label>
            <input type="number" name="cb_person_cred_hist_length" placeholder="ูุซุงู: 7" required>
        </div>
        
        <button type="submit">ุจุฏุก ุงูุชุญููู ุงูุฐูู</button>
    </form>

    {% if prediction_text %}
    <div class="result">
        <h3 style="color: {{ color }}">{{ prediction_text }}</h3>
        
        <div class="probability-box">
            <p>ูุณุชูู ุงูุซูุฉ ูู ุงูุฃูุงู: <strong>{{ prob_safe }}%</strong></p>
            <div class="bar-container">
                <div class="bar" style="width: {{ prob_safe }}%; background-color: {{ color }};"></div>
            </div>
        </div>

        <div class="explanation-tag">
            ๐ ุงูุนุงูู ุงูุฃูุซุฑ ุชุฃุซูุฑุงู ูู ูุฐุง ุงููุฑุงุฑ: <strong>{{ top_feature }}</strong>
        </div>

        <hr style="border: 0; border-top: 1px solid #eee; margin: 20px 0;">

        <div class="future-tip">
            <strong>๐ก ุฑุคูุฉ ูุณุชูุจููุฉ (XAI):</strong><br>
            ูุฐุง ุงููุธุงู ูุณุชุฎุฏู ุฎูุงุฑุฒููุงุช ูุชูุฏูุฉ ูุชุญููู ุงููุฎุงุทุฑ. ูุญู ูุนูู ุนูู ุชุทููุฑ ููุฒุฉ "ููุงุฐุงุ" ูุชูุถูุญ ุงูุฃุณุจุงุจ ุงูุงูุชุตุงุฏูุฉ ุงูุฏูููุฉ ุฎูู ูู ูุฑุงุฑ ุงุฆุชูุงูู.
        </div>
    </div>
    {% endif %}
</div>

</body>
</html>
